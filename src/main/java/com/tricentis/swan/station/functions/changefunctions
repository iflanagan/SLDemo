#!/bin/bash

# Set relative path to Java function classes within the repo
FUNCTIONS_DIR=$(pwd)

# Check if the directory exists
if [ ! -d "$FUNCTIONS_DIR" ]; then
  echo "‚ùå Functions directory not found: $FUNCTIONS_DIR"
  exit 1
fi

# Select 2 random .java files
selected_files=($(find "$FUNCTIONS_DIR" -maxdepth 1 -name "*.java" | sort -R | head -n 2))

if [ ${#selected_files[@]} -eq 0 ]; then
  echo "‚ö†Ô∏è No Java function files found in $FUNCTIONS_DIR"
  exit 0
fi

echo "üîÄ Randomly selected files:"
for file in "${selected_files[@]}"; do
  echo " - $(basename "$file")"
done
echo ""

# Add comment header and fix System.out.println punctuation
for file in "${selected_files[@]}"; do
  class_name=$(basename "$file" .java)
  new_comment="// Function class: $class_name - Updated automatically"
  tmp_file=$(mktemp)

  # Add or replace comment at the to

